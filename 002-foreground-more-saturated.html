<html>
  <head>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.4.0/lib/p5.js"></script>
    <script type="application/javascript">
      const CANVAS_X = CANVAS_Y = 300;
var start_x, start_y;
var bacteria_counts;
const framerate = 10;
function setup() {
  createCanvas(CANVAS_X, CANVAS_Y);
  frameRate(10);
  start_x = int(CANVAS_X / 2); // int(random(0, CANVAS_X));
  start_y = int(CANVAS_Y / 2); // int(random(0, CANVAS_Y));
  bacteria_counts = new Array(CANVAS_X);
  for (let i = 0; i < CANVAS_X; ++i) {
    bacteria_counts[i] = new Array(CANVAS_Y);
  }
  for (let i = 0; i < CANVAS_X; ++i) {
    for (let j = 0; j < CANVAS_Y; ++j) {
      bacteria_counts[i][j] = 0;
    }
  }
  bacteria_counts[start_x][start_y] = 1;

}

function draw() {
  colorMode(HSL, 100, 100, 100, 100);
  background(12, 90, 95, 60);
  noFill();
  for (let i = 0; i < CANVAS_X; ++i) {
    for (let j = 0; j < CANVAS_Y; ++j) {
      if (bacteria_counts[i][j]){
        stroke(90, j/CANVAS_Y * 100, 70) // , bacteria_counts[i][j])
        ellipse(i, j, 1 + int(3 * random()), 1 + int(3 * random()));
      }
    }
  }
  for (let i = 1; i < CANVAS_X - 1; ++i) {
    for (let j = 1; j < CANVAS_Y - 1; ++j) {
      if (bacteria_counts[i][j]) {
        bacteria_counts[i][j] += 1;
        let x_offset = random([1, -1]);
        let y_offset = random([1, -1]);
        bacteria_counts[i + x_offset][j + y_offset] += 1;
      }
    }
  }

}
</script>
  </head>
  <body>
    <main>
    </main>
  </body>
</html>
